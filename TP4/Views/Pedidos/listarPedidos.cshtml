@model List<TP4.ViewModels.PedidoViewModel>

@{
    ViewBag.Title = "Listado de pedidos";
}

<section>
    <h1 class="text-center">Listado de todos los pedidos</h1>
    <article class="text-center">
        <p>Pedidos encontrados:</p>
            <table>
                <thead>
                    <tr>
                        <th>
                            Número
                        </th>
                        <th>
                            ID del cliente
                        </th>
                        <th>
                            ID del cadete
                        </th>
                        <th>
                            Observaciones
                        </th>
                        <th>
                            Estado
                        </th>
                        <th>
                            Borrado
                        </th>
                        <th>
                            Modificación
                        </th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var pedido in Model)
                    {
                        <tr>
                            <td>
                                @pedido.Numero
                            </td>
                            <td>
                                @pedido.IdCliente
                            </td>
                            <td>
                                @pedido.IdCadete
                            </td>
                            @if(pedido.Observaciones!=null){
                                <td>@pedido.Observaciones</td>
                            } else {
                                <td>-</td>
                            }
                            @if(pedido.EstaRealizado){
                                <td>Entregado</td>
                            } else {
                                <td>Pendiente</td>
                            }
                            <td>
                                <a title="Eliminar pedido" asp-controller="Pedidos" asp-action="eliminarPedido" asp-route-numPedido="@pedido.Numero">Eliminar</a>
                            </td>
                            <td>
                                <a title="Modificar pedido" asp-controller="Pedidos" asp-action="modificarPedido" asp-route-numPedido="@pedido.Numero">Modificar</a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
    </article>
    <article>
        <p class="extrasListarPedidos">Para registrar un nuevo pedido, <a asp-area="" asp-controller="Pedidos" asp-action="crearPedido">haga click aquí</a>. <strong>Deben haber cadetes y clientes cargados.</strong></p>
        <p></p>
    </article>
</section>


